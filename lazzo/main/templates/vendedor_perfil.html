{% extends "base.html" %}
{% load static %}

{% block title %}Tienda de {{ vendedor.nombre_completo }} - Lazzo{% endblock %}

{% block content %}

<section class="seller-header">
    <div class="container seller-banner">
        
        <div class="seller-avatar">
            {% if vendedor.foto %}
                <img src="{{ vendedor.foto.url }}" alt="{{ vendedor.nombre_completo }}">
            {% else %}
                <span>{{ vendedor.nombre_completo|first }}</span>
            {% endif %}
        </div>

        <div class="seller-info">
            <h1 class="seller-name">{{ vendedor.nombre_completo }}</h1>
            <p class="seller-role">
                Vendedor registrado • {{ productos|length }} productos publicados
            </p>

            <p class="seller-description">
                {% if vendedor.descripcion %}
                    {{ vendedor.descripcion }}
                {% else %}
                    Este vendedor aún no ha añadido una descripción a su tienda.
                {% endif %}
            </p>
        </div>

    </div>
</section>


<section class="products-section">
    <div class="container">
        <div class="section-header">
            <h2>Productos del vendedor</h2>
        </div>

        {% if productos %}
            <div class="products-grid">
                {% for producto in productos %}
                    <article class="product-card">

                        <div class="product-image">
                            {% if producto.imagen %}
                                <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}">
                            {% else %}
                                <img src="{% static 'img/placeholder.png' %}" alt="Sin imagen">
                            {% endif %}
                        </div>

                        <h3 class="product-title">{{ producto.nombre }}</h3>

                        <p class="product-brand">{{ producto.categoria }}</p>

                        <div class="product-prices">
                            <span class="current-price">${{ producto.precio }}</span>
                        </div>

                        <div class="product-actions">
                            <a href="{% url 'producto_detalle' producto.idProducto %}"
                               class="btn-secondary">Ver detalles</a>

                            <a href="{% url 'cart_add' producto.idProducto %}"
                               class="btn-primary">Agregar al carro</a>
                        </div>

                    </article>
                {% endfor %}
            </div>
        {% else %}
            <p>Este vendedor aún no ha publicado productos.</p>
        {% endif %}
    </div>
</section>

{% endblock %}
